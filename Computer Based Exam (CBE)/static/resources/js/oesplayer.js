$(document).ready(function(){$("div[id^=MMplayer_]").each(function(){$(this).attr("data-ready",!1);$(this).data("ready",!1);$(this).data("medialoadonready")?(initPlayer($(this)),$(this).attr("data-ready",!0),$(this).data("ready",!0)):$(this).bind("initPlayer",function(a){$(this).data("ready")||(initPlayer($(this),a),$(this).attr("data-ready",!0),$(this).data("ready",!0))});$(this).bind("destroy",function(){destroy($(this))})})});
function initPlayer(a,b){if("audio"==$(a).data("mediatype"))"exam"==$(a).data("mediamode")?$(a).html('<div id="oes_'+$(a).attr("id")+'" class="jp-jplayer"></div><div id="jp_container_'+$(a).attr("id").replace("MMplayer_","")+'" class="jp-audio exam playerdiv" role="application" aria-label="media player">\t<div class="jp-type-single">\t\t<div class="jp-gui jp-interface">\t\t\t<div class="jp-controls">\t\t\t\t<button class="jp-play" role="button" tabindex="0">\t\t\t\t\tplay\t\t\t\t</button>\t\t\t</div>\t\t\t<div class="jp-progress">\t\t\t\t\t<div class="jp-play-bar">\t\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="jp-time-holder">\t\t\t\t<div class="jp-current-time" role="timer" aria-label="time">\t\t\t\t&nbsp;</div>\t\t\t\t<div class="jp-duration" role="timer" aria-label="duration">\t\t\t\t&nbsp;</div>\t\t\t</div>\t\t</div>\t\t<div class="jp-details">\t\t\t<div class="jp-title" aria-label="title">\t\t\t&nbsp;</div>\t\t</div>\t\t<div class="jp-no-solution">\t\t\t<span>Update Required</span>\t\t\tTo play the media you will need to either update your browser to a recent version or update your Flash plugin.\t\t</div>\t</div></div>'):
"open"==$(a).data("mediamode")?$(a).html('<div id="oes_'+$(a).attr("id")+'" class="jp-jplayer"></div><div id="jp_container_'+$(a).attr("id").replace("MMplayer_","")+'" class="jp-audio open playerdiv" role="application" aria-label="media player">\t<div class="jp-type-single">\t\t<div class="jp-gui jp-interface">\t\t\t<div class="jp-controls">\t\t\t\t<button class="jp-play" role="button" tabindex="0">\t\t\t\t\tplay\t\t\t\t</button>\t\t\t\t<button class="jp-stop" role="button" tabindex="0">\t\t\t\t\tstop\t\t\t\t</button>\t\t\t</div>\t\t\t<div class="jp-progress">\t\t\t\t<div class="jp-play-bar"></div>\t\t\t\t</div>\t\t\t<div class="jp-volume-controls">\t\t\t\t<button class="jp-volume-max" role="button" tabindex="0">\t\t\t\t\tmax volume\t\t\t\t</button>\t\t\t\t<div class="jp-volume-bar">\t\t\t\t\t<div class="jp-volume-bar-value"></div>\t\t\t\t</div>\t\t\t</div>\t\t\t<div class="jp-time-holder">\t\t\t\t<div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>\t\t\t\t<div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>\t\t\t\t\t\t\t</div>\t\t</div>\t\t<div class="jp-details">\t\t\t<div class="jp-title" aria-label="title">&nbsp;</div>\t\t</div>\t\t<div class="jp-no-solution">\t\t\t<span>Update Required</span>\t\t\tTo play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.\t\t</div>\t</div></div>'):
"success"==$(a).data("mediamode")&&$(a).html('<div id="oes_'+$(a).attr("id")+'" class="jp-jplayer clearfix"></div> <div id="jp_container_'+$(a).attr("id").replace("MMplayer_","")+'" class="jp-audio clearfix" role="application" aria-label="      media player"> <div class="jp-type-single"> <div class="jp-gui jp-interface"> <div class="jp-controls"> <button class="jp-play" role="button" tabindex="0">play</button> </div> <div class="jp-progress"> <div class="jp-play-bar"> <div class="playhead"></div> </div> </div>  </div> <div class="jp-no-solution"> <span>Update Required</span> To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>. </div> </div> </div>'),
$(a).find("#oes_"+$(a).attr("id")).jPlayer({ready:function(){"mp3"==$(a).data("mediaext")?$(this).jPlayer("setMedia",{mp3:$(a).data("mediaurl")}):"m4a"==$(a).data("mediaext")?$(this).jPlayer("setMedia",{m4a:$(a).data("mediaurl")}):"ogg"==$(a).data("mediaext")?$(this).jPlayer("setMedia",{ogg:$(a).data("mediaurl")}):"oga"==$(a).data("mediaext")?$(this).jPlayer("setMedia",{oga:$(a).data("mediaurl")}):"webma"==$(a).data("mediaext")?$(this).jPlayer("setMedia",{webma:$(a).data("mediaurl")}):"wav"==$(a).data("mediaext")&&
$(this).jPlayer("setMedia",{wav:$(a).data("mediaurl")})},swfPath:"../resources/js/jplayer.swf",supplied:$(a).data("mediaext"),wmode:"transparent",cssSelectorAncestor:"#jp_container_"+$(a).attr("id").replace("MMplayer_",""),useStateClassSkin:!0,autoBlur:!0,smoothPlayBar:!0,keyEnabled:!1,solution:"html, flash",volume:1,errorAlerts:!0,play:b&&b.play?b.play:play,pause:b&&b.pause?b.pause:function(){},ended:b&&b.end?b.end:end}),$(a).data("mediatitle")&&""!=$(a).data("mediatitle")&&$(a).find(".playerdiv").find($(a).find("#oes_"+
$(a).attr("id")).jPlayer("option","cssSelector.title")).html($(a).data("mediatitle"));else if("video"==$(a).data("mediatype")){"exam"==$(a).data("mediamode")?$(a).html('<div id="jp_container_'+$(a).attr("id").replace("MMplayer_","")+'" class="jp-video exam playerdiv" role="application" aria-label="media player">\t<div class="jp-type-single">\t\t<div id="oes_'+$(a).attr("id")+'" class="jp-jplayer"></div>\t\t<div class="jp-gui">\t\t\t\t\t\t<div class="jp-interface">\t\t\t\t<div class="jp-controls">\t\t\t\t\t<button class="jp-play" role="button" tabindex="0">play</button>\t\t\t\t</div>\t\t\t\t\t\t\t\t\t<div class="jp-toggles">\t\t\t\t\t<button class="jp-full-screen" role="button" tabindex="0">full screen</button>\t\t\t\t</div>\t\t\t\t<div class="jp-progress">\t\t\t\t\t\t\t\t\t\t<div class="jp-play-bar"></div>\t\t\t\t\t\t\t\t\t</div>\t\t\t\t<div class="jp-time-holder">\t\t\t\t<div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>\t\t\t\t<div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>\t\t\t\t</div>\t\t\t</div></div>\t\t\t<div class="jp-details">\t\t\t\t<div class="jp-title" aria-label="title">&nbsp;</div>\t\t\t</div>\t\t\t\t\t\t\t<div class="jp-no-solution">\t\t\t<span>Update Required</span>\t\t\tTo play the media you will need to either update your browser to a recent version or update your Flash plugin.\t\t</div>\t</div></div>'):
"open"==$(a).data("mediamode")?$(a).html('<div id="jp_container_'+$(a).attr("id").replace("MMplayer_","")+'" class="jp-video open playerdiv" role="application" aria-label="media player">\t<div class="jp-type-single">\t\t<div id="oes_'+$(a).attr("id")+'" class="jp-jplayer"></div>\t\t<div class="jp-gui">\t\t\t\t\t\t<div class="jp-interface">\t\t\t\t<div class="jp-progress">\t\t\t\t\t<div class="jp-play-bar"></div>\t\t\t\t\t</div>\t\t\t\t<div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>\t\t\t\t<div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>\t\t\t\t<div class="jp-controls-holder">\t\t\t\t\t<div class="jp-controls">\t\t\t\t\t\t<button class="jp-play" role="button" tabindex="0">play</button>\t\t\t\t\t\t<button class="jp-stop" role="button" tabindex="0">stop</button>\t\t\t\t\t</div>\t\t\t\t\t<div class="jp-volume-controls">\t\t\t\t\t\t<button class="jp-mute" role="button" tabindex="0">mute</button>\t\t\t\t\t\t<button class="jp-volume-max" role="button" tabindex="0">max volume</button>\t\t\t\t\t\t<div class="jp-volume-bar">\t\t\t\t\t\t\t<div class="jp-volume-bar-value"></div>\t\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="jp-toggles">\t\t\t\t\t\t\t\t\t\t\t\t<button class="jp-full-screen" role="button" tabindex="0">full screen</button>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t\t<div class="jp-details">\t\t\t\t\t<div class="jp-title" aria-label="title">&nbsp;</div>\t\t\t\t</div>\t\t\t</div>\t\t</div>\t\t<div class="jp-no-solution">\t\t\t<span>Update Required</span>\t\t\tTo play the media you will need to either update your browser to a recent version or update your Flash plugin.\t\t</div>\t</div></div>'):
"success"==$(a).data("mediamode")&&$(a).html('<div id="jp_container_'+$(a).attr("id").replace("MMplayer_","")+'" class="jp-video jp-video-360p" role="application" aria-label="media player"> \t<div class="jp-type-single"> \t\t<div id="oes_'+$(a).attr("id")+'" class="jp-jplayer"></div> \t\t<div class="jp-gui"> \t\t\t\t\t\t<div class="jp-interface"> \t\t\t\t<div class="jp-progress"> \t\t\t\t\t<div class="jp-play-bar"> <div class="playhead"></div> </div> </div> <div class="jp-controls-holder"> <div class="jp-controls"> <button class="ic-timeline jp-play" role="button" tabindex="0">play</button> </div> <div class="jp-toggles">  <button class="jp-full-screen" role="button" tabindex="0">full screen</button> </div> </div>  </div> </div> <div class="jp-no-solution"> <span>Update Required</span> To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>. </div> </div> </div>');
var c=$(a).data("mediaext");"mp4"==c&&(c="m4v");$(a).find("#oes_"+$(a).attr("id")).jPlayer({ready:function(){"m4v"==c&&$(this).jPlayer("setMedia",{m4v:$(a).data("mediaurl")})},swfPath:"../resources/js/jplayer.swf",supplied:c,wmode:"transparent",cssSelectorAncestor:"#jp_container_"+$(a).attr("id").replace("MMplayer_",""),useStateClassSkin:!0,autoBlur:!0,smoothPlayBar:!0,keyEnabled:!1,solution:"html, flash",errorAlerts:!0,play:b&&b.play?b.play:play,pause:b&&b.pause?b.pause:function(){},ended:b&&b.end?
b.end:end});"success"==$(a).data("mediamode")&&$(a).find("#oes_"+$(a).attr("id")).jPlayer({size:{width:"220px",height:"160px"}});$(a).data("mediatitle")&&""!=$(a).data("mediatitle")&&$(a).find(".playerdiv").find($(a).find("#oes_"+$(a).attr("id")).jPlayer("option","cssSelector.title")).html($(a).data("mediatitle"))}}
function play(){$(this).jPlayer("pauseOthers",0);"success"==$(this).parents("div[id^=MMplayer_]").data("mediamode")&&"video"==$(this).parents("div[id^=MMplayer_]").data("mediatype")&&$(this).jPlayer({autohide:{restored:!0}})}function end(){$(this).jPlayer("destroy");initPlayer($(this).parents("div[id^=MMplayer_]"))}
function destroy(a){"audio"==$(a).data("mediatype")&&($("#oes_"+$(a).attr("id")).jPlayer("destroy"),$("#oes_"+$(a).attr("id")).remove());"video"==$(a).data("mediatype")&&($("#jp_container_"+$(a).attr("id").replace("MMplayer_","")).jPlayer("destroy"),$("#jp_container_"+$(a).attr("id").replace("MMplayer_","")).remove());$(a).data("ready",!1);$(this).attr("data-ready",!1)};
